<!DOCTYPE html><html lang="en-il"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Kubernetes - kubectl cheatsheet - netanel-m</title><meta name="description" content="Kubernetes is a system that can at times be a bit threatening. It is truly a vast and agile service, and maintaining it can feel a bit off-putting at times. In this article, I'm going to write down some of the most common commands I&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://netanel-m.github.io/kubernetes-kubectl-cheatsheet/"><link rel="alternate" type="application/atom+xml" href="https://netanel-m.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://netanel-m.github.io/feed.json"><meta property="og:title" content="Kubernetes - kubectl cheatsheet"><meta property="og:site_name" content="netanel-m"><meta property="og:description" content="Kubernetes is a system that can at times be a bit threatening. It is truly a vast and agile service, and maintaining it can feel a bit off-putting at times. In this article, I'm going to write down some of the most common commands I&hellip;"><meta property="og:url" content="https://netanel-m.github.io/kubernetes-kubectl-cheatsheet/"><meta property="og:type" content="article"><link rel="stylesheet" href="https://netanel-m.github.io/assets/css/style.css?v=f5c2f533b084ca43d528b649c46ccadd"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://netanel-m.github.io/kubernetes-kubectl-cheatsheet/"},"headline":"Kubernetes - kubectl cheatsheet","datePublished":"2021-06-10T06:05","dateModified":"2022-12-14T13:05","description":"Kubernetes is a system that can at times be a bit threatening. It is truly a vast and agile service, and maintaining it can feel a bit off-putting at times. In this article, I'm going to write down some of the most common commands I&hellip;","author":{"@type":"Person","name":"Netanel","url":"https://netanel-m.github.io/authors/netanel/"},"publisher":{"@type":"Organization","name":"Netanel M."}}</script></head><body><div class="container js-container"><nav class="menu"><ul class="navbar__menu"><li><a href="https://netanel-m.github.io/home/" target="_self">About</a></li><li><a href="https://netanel-m.github.io/projects/" target="_self">Projects</a></li></ul></nav><div class="content"><header class="top"><div class="top__item"><a class="logo" href="https://netanel-m.github.io/">netanel-m</a></div><div class="top__item top__item--right"><button class="menu-toggle js-menu-toggle" aria-label="Menu" aria-expanded="false"><span class="menu-toggle-box"><span class="menu-toggle-inner">Menu</span></span></button></div></header><main class="main"><article class="post"><div class="main__left"><header><h1>Kubernetes - kubectl cheatsheet</h1><p><time datetime="2021-06-10T06:05">June 10, 2021 </time>by <a href="https://netanel-m.github.io/authors/netanel/" rel="author" title="Netanel">Netanel</a></p></header></div><div class="main__right"><div class="post__entry"><p></p><p>Kubernetes is a system that can at times be a bit threatening. It is truly a vast and agile service, and maintaining it can feel a bit off-putting at times. In this article, I'm going to write down some of the most common commands I use in my day to day Kubernetes maintenance.</p><p></p><p></p><h1>Pods</h1><p></p><p></p><p>A Pod is the smallest unit that hosts Containers in Kubernetes. It can at minimum contain one container. It can also host multiple containers together, which can talk to each other over a localhost interface (127.0.0.1).</p><p></p><p></p><h2>Getting all Pods</h2><p></p><p></p><p>Used to get all Pods in the system.</p><p></p><p></p><p>Can be used with the -o flag to get more information such as which Mode hosts which Container. The -n flag can be added to specify a specific namespace</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl get pods -A</pre><p></p><p></p><h2>Describe a Pod</h2><p></p><p></p><p>Describing a Pod allows you to see expanded information related to a given Pod, such as the last events it experienced, its Labels, Volumes and more.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl describe pod <pod name> -n <namespace></namespace></pod></pre><p></p><p></p><h2>Delete a Pod</h2><p></p><p></p><p>If you want to force a pod to restart itself, simply delete it with the following command.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl delete pod <pod name> -n <namespace></namespace></pod></pre><p></p><p></p><h2>Getting the logs of a Pod</h2><p></p><p></p><p>You can get the logs of a pod with this simple command. Redirect it into a file to prevent overloading your terminal's buffer. Note that -c specifies the container's name inside the pod.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl logs <pod name> -n <namespace> -c >container></namespace></pod></pre><p></p><p></p><h2>Accessing the shell of a container</h2><p></p><p></p><p>This command will allow you to get access to the shell inside a pod. Use -c to specify the container name.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl exec -it <pod name> sh -n <namespace></namespace></pod></pre><p></p><p></p><p></p><p></p><h1>Namespaces</h1><p></p><p></p><p>Namespaces are an abstraction that allows you to group resources together under a specific name.</p><p></p><p></p><h2>Getting all Namespaces</h2><p></p><p></p><p>This one is used to get all Mamespaces the system contains, A Namespace is a logical way to associate resources with a specific name, which is useful for logically grouping components together.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl get ns</pre><p></p><p></p><h2>Deleting a Namespace</h2><p></p><p></p><p>Deleting a namespace will purge all resources associated with it, such as deployments, pods, services etc.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl delete ns <namespace></namespace></pre><p></p><p></p><h1>Deployments</h1><p></p><p></p><p>Deployments are used to configure pods A deployment contains instructions that specifies the configuration of a Pod.</p><p></p><p></p><h2>Get Deployments in a given Namespace</h2><p></p><p></p><p>This command can be used to list the Deployments in a given Namespace.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl get deployments -n <namespace></namespace></pre><p></p><p></p><h2>Edit a Deployment</h2><p></p><p></p><p>You can use this command to edit a Deployment, where you can change everything that makes a Deployment work, such as the specs of the Container, or the image it uses.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl edit deployment <deployment name> -n <namespace></namespace></deployment></pre><p></p><p></p><h2>Delete a Deployment</h2><p></p><p></p><p>If you want to delete your pods premanently, you should delete your deployment. Use the following command to do so.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl delete deployment <deployment name> -n <namespace></namespace></deployment></pre><p></p><p></p><h1>Nodes</h1><p></p><p></p><p>Nodes do the heavy lifting, they're either workers who host the worker pods themselves, or the masters who host the API.</p><p></p><p></p><h2>Getting Nodes</h2><p></p><p></p><p>You can see a list of Modes and their status with this command. Use the -o flag to see more information about them.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl get nodes</pre><p></p><p></p><h2>Draining a Node</h2><p></p><p></p><p>If you want to vacate your Node from all Pods you can use this command. Use it when you want to perform maintenance on a node. This will cause Kubernetes to transfer the pods to another Node that has free resources.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl drain <node name></node></pre><p></p><p></p><h2>Deleting a Node</h2><p></p><p></p><p>To permanently delete a node from your cluster, you can use this command, however you should safely drain it first!</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl delete node <node name></node></pre><p></p><p></p><h2>Showing the labels of a Node</h2><p></p><p></p><p>Use this command to displays the current labels assigned to a node.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl get nodes --show-labels</pre><p></p><p></p><h2>Labeling a Node</h2><p></p><p></p><p>You can label nodes in order to specify which node will host which deployments. The selector is used in a deployment to label the pods, and you use the following command to label the node. This completes the circle and allows a pod to be assigned to a given node using the node's label.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl label nodes <node name> <key>=<value></value></key></node></pre><p></p><p></p><p></p><p></p><h1>Services</h1><p></p><p></p><p>Services serve as a way to abstract between pods and network services.</p><p></p><p></p><h2>Getting services</h2><p></p><p></p><p>This command will allow you to see all services in the cluster, along with their type, namespace, port etc. Use -n instead of -A to filter for a specific namespace.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl get ns -A</pre><p></p><p></p><h2>Delete a service</h2><p></p><p></p><p>The following command can be used to delete a service.</p><p></p><p></p><pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">kubectl delete svc <service name> -n <namespace></namespace></service></pre><p></p><footer><div class="post__tag-share"><ul class="post__tag"><li><a href="https://netanel-m.github.io/tags/containers/">Containers</a></li><li><a href="https://netanel-m.github.io/tags/kubectl/">Kubectl</a></li><li><a href="https://netanel-m.github.io/tags/kubernetes/">Kubernetes</a></li></ul><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fnetanel-m.github.io%2Fkubernetes-kubectl-cheatsheet%2F" class="js-share facebook" aria-label="Share with Facebook" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://netanel-m.github.io/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fnetanel-m.github.io%2Fkubernetes-kubectl-cheatsheet%2F&amp;media=undefined&amp;description=Kubernetes%20-%20kubectl%20cheatsheet" class="js-share pinterest" aria-label="Share with Pinterest" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://netanel-m.github.io/assets/svg/svg-map.svg#pinterest"/></svg> </a><a href="https://mix.com/add?url=https%3A%2F%2Fnetanel-m.github.io%2Fkubernetes-kubectl-cheatsheet%2F" class="js-share mix" aria-label="[MISSING TRANSLATION] [MISSING TRANSLATION]" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://netanel-m.github.io/assets/svg/svg-map.svg#mix"/></svg> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fnetanel-m.github.io%2Fkubernetes-kubectl-cheatsheet%2F" class="js-share linkedin" aria-label="[MISSING TRANSLATION] Share with LinkedIn" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://netanel-m.github.io/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://api.whatsapp.com/send?text=Kubernetes%20-%20kubectl%20cheatsheet https%3A%2F%2Fnetanel-m.github.io%2Fkubernetes-kubectl-cheatsheet%2F" class="js-share whatsapp" title="[MISSING TRANSLATION] Share with LinkedIn" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://netanel-m.github.io/assets/svg/svg-map.svg#whatsapp"/></svg></a></div></div><div class="post__bio"><h3><a href="https://netanel-m.github.io/authors/netanel/" title="Netanel">Netanel</a></h3></div></footer></div></div></article></main><footer class="footer"><div class="footer__copyright"><p>Copyright 2022 netanel-m</p></div></footer></div></div><script defer="defer" src="https://netanel-m.github.io/assets/js/scripts.min.js?v=27706a8fe221267c1834098c796f44c1"></script><script>var images = document.querySelectorAll('img[loading]');
   
           for (var i = 0; i < images.length; i++) {
               if (images[i].complete) {
                   images[i].classList.add('is-loaded');
               } else {
                   images[i].addEventListener('load', function () {
                       this.classList.add('is-loaded');
                   }, false);
               }
           }</script></body></html>